document.addEventListener("DOMContentLoaded",()=>{const n=document.querySelectorAll("[data-modal-target]"),c=document.querySelectorAll("[data-modal-dismiss]"),r=document.querySelectorAll(".modal"),s=(e,t)=>{if(e.setAttribute("aria-hidden","false"),t.backdrop&&e.addEventListener("click",o=>{o.target===e&&a(e)}),t.keyboard){const o=d=>{d.key==="Escape"&&(a(e),document.removeEventListener("keydown",o))};document.addEventListener("keydown",o)}},a=e=>{e.setAttribute("aria-hidden","true")};n.forEach(e=>{e.addEventListener("click",()=>{const t=e.getAttribute("data-modal-target"),o=JSON.parse(e.getAttribute("data-modal-options")||"{}"),d=document.querySelector(t);d&&s(d,o)})}),c.forEach(e=>{e.addEventListener("click",()=>{const t=e.closest(".modal");a(t)})})});
